{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["App","props","getReward","a","state","DeFILInstance","methods","claimDFL","send","from","account","on","transactionHash","console","log","authorizationEFIL","EFILInstance","approve","DeFIL","address","authorizationMFIL","MFILInstance","borroweFIL","amount","borrowAmounts","window","web3","utils","toWei","borrow","changed","event","type","value","target","setState","repayAmount","pledegAmount","redemeAmount","saveAmount","networkId","dflInstance","dflAddress","DFLtotalSupply","currentmFILPower","maxBorroweFIL","borrowRateOfYear","lsupplyRateOfYear","eFIlAcount","useRate","EFILtotalSupply","mFIlAcount","MFILtotalSupply","cash","borrowAmount","this","initWeb3","loadBlockchainData","ethereum","request","method","accounts","eth","net","getId","getBalance","fromWei","Contract","DFL","abi","totalSupply","call","deFILInstance","borrowRatePerBlock","borrowRate","getCash","rawCash","totalReserves","reserves","totalBorrows","rawBorrowAmount","toBN","supplyRatePerBlock","supplyRate","MFIL","balanceOf","EFIL","WhitePaperInterestRateModelInstance","WhitePaperInterestRateModel","utilizationRate","Web3","currentProvider","alert","chainId","repayBorrow","collateralize","redeemCollateral","Amount","mint","networkInfo","onClick","onChange","pledegmFIL","redememFIL","repayeFIL","saveeFIL","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.78bf38bb.chunk.js","sourcesContent":["import React,{ Component } from 'react';\nimport Web3 from 'web3'\nimport './App.css';\nimport networkInfo from \"./abi/networkid.json\";\nimport DFL from \"./abi/DFL.json\";\nimport DeFIL from \"./abi/DeFIL.json\";\nimport EFIL from \"./abi/EFIL.json\";\nimport WhitePaperInterestRateModel from \"./abi/WhitePaperInterestRateModel.json\"\nimport MFIL from \"./abi/MFIL.json\"\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      account:null,\n      networkId:null,\n      amount:null,\n      dflInstance:null,\n      dflAddress:null,\n      DFLtotalSupply:null,\n      currentmFILPower:0,\n      maxBorroweFIL:0,\n      borrowRateOfYear:null,\n      lsupplyRateOfYear:null,\n      eFIlAcount:null,\n      useRate:null,\n      EFILtotalSupply:null,\n      mFIlAcount:null,\n      MFILtotalSupply:null,\n      DeFILInstance:null,\n      cash:null,\n      borrowAmount:null,\n      EFILInstance:null,\n      pledegAmount:null,\n      redemeAmount:null,\n      borrowAmounts:null,\n      repayAmount:null,\n      saveAmount:null,\n\n    }\n  }\n  \n\n  async componentWillMount() {\n    await this.initWeb3()\n    await this.loadBlockchainData()\n   // await this.getTokenSupOfDFL()\n  \n  }\n\n  //加载基本账户信息及网络信息\n  async loadBlockchainData() {\n    const web3 = window.web3\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\n    this.setState({ account: accounts[0] })\n\n    const networkId = await web3.eth.net.getId()\n    this.setState({ networkId })\n    console.log(accounts[0],networkId)\n\n    let amount = await web3.eth.getBalance(accounts[0])\n    amount = web3.utils.fromWei(amount, 'ether')\n    this.setState({ amount })\n\n  //加载化DFL\n    let dflInstance = new web3.eth.Contract(DFL.abi, DFL.address)\n    this.setState({ dflInstance })\n    this.setState({ dflAddress : dflInstance.address })\n    let DFLtotalSupply = await dflInstance.methods.totalSupply().call()\n    this.setState({DFLtotalSupply})\n\n  //加载DeFIL\n    let deFILInstance = new web3.eth.Contract(DeFIL.abi, DeFIL.address)\n    this.setState({DeFILInstance:deFILInstance})\n    let borrowRate = await deFILInstance.methods.borrowRatePerBlock().call()\n    let rawCash = await deFILInstance.methods.getCash().call()\n    let reserves = await deFILInstance.methods.totalReserves().call()\n    let rawBorrowAmount = await deFILInstance.methods.totalBorrows().call()\n    let cash = web3.utils.fromWei(web3.utils.toBN(rawCash), 'ether')\n    \n    let borrowAmount = web3.utils.fromWei(web3.utils.toBN(rawBorrowAmount), 'ether')\n    console.log(cash,borrowAmount)\n    this.setState({borrowAmount})\n    this.setState({cash})\n\n\n    let borrowRateOfYear = web3.utils.fromWei(borrowRate, 'ether') *2102400 * 100\n    this.setState({borrowRateOfYear})\n\n    let supplyRate = await deFILInstance.methods.supplyRatePerBlock().call()\n    let lsupplyRateOfYear = web3.utils.fromWei(supplyRate, 'ether') *2102400 * 100\n    this.setState({lsupplyRateOfYear})\n\n  //加载mFIl\n  let MFILInstance = new web3.eth.Contract(MFIL.abi, MFIL.address)\n  let mFIlAcount = await MFILInstance.methods.balanceOf(accounts[0]).call()\n  let MFILtotalSupply = await MFILInstance.methods.totalSupply().call()\n  MFILtotalSupply = web3.utils.fromWei(MFILtotalSupply,'ether')\n  mFIlAcount =  web3.utils.fromWei(mFIlAcount,'ether')\n  console.log(MFILtotalSupply,mFIlAcount)\n  this.setState({mFIlAcount})\n  this.setState({MFILtotalSupply})\n  \n\n  //加载eFIl\n    let EFILInstance = new web3.eth.Contract(EFIL.abi, EFIL.address)\n    let eFIlAcount = await EFILInstance.methods.balanceOf(accounts[0]).call()\n\n    let EFILtotalSupply = await EFILInstance.methods.totalSupply().call()\n \n    EFILtotalSupply = web3.utils.fromWei(EFILtotalSupply,'ether')\n    eFIlAcount =  web3.utils.fromWei(eFIlAcount,'ether')\n   \n    this.setState({EFILInstance})\n    this.setState({eFIlAcount})\n    this.setState({EFILtotalSupply})\n\n  //加载WhitePaperInterestRateModel  \n\n    let WhitePaperInterestRateModelInstance = new web3.eth.Contract(WhitePaperInterestRateModel.abi, WhitePaperInterestRateModel.address)\n   \n    let useRate = await WhitePaperInterestRateModelInstance.methods.utilizationRate(rawCash,rawBorrowAmount,reserves).call()\n    \n    useRate = web3.utils.fromWei(web3.utils.toBN(useRate), 'ether') * 100\n    this.setState({useRate})\n\n\n  }  \n\n\n   //初始化web3\n   async initWeb3() {\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum)\n    }\n    else if (window.web3) {\n      window.web3 = new Web3(window.web3.currentProvider)\n    }\n    else {\n      window.alert('Non-Ethereum browser detected. You should consider trying MetaMask!')\n    }\n\n  }\n\n  async componentDidMount(){\n    window.ethereum.on('chainChanged', (chainId) => {\n    console.log(\"chainId:\",chainId)\n\n    this.loadBlockchainData()\n    });\n     window.ethereum.on('accountsChanged', async()=>{\n    \n      await this.loadBlockchainData()\n \n    });\n  }\n\n\n  //DFL\n  async getTokenSupOfDFL(){\n    let totalSupply = await this.state.dflInstance.methods.totalSupply().call()\n    this.setState({totalSupply})\n    \n  }\n\n  //获取DFL奖励\n   getReward = async()=>{\n    \n  \n    this.state.DeFILInstance.methods.claimDFL().send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n    \n    \n  }\n\n  //efil授权\n\n   authorizationEFIL = async ()=>{\n      console.log(this.state.EFILInstance.methods)\n      this.state.EFILInstance.methods.approve(DeFIL.address,'115792089237316195423570985008687907853269984665640564039457584007913129639935').send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n//mfil授权\n  authorizationMFIL = async ()=>{\n    console.log(this.state.MFILInstance.methods)\n    this.state.EFILInstance.methods.approve(DeFIL.address,'115792089237316195423570985008687907853269984665640564039457584007913129639935').send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n}\n\n  //efil 借入\n   borroweFIL = async()=>{\n    let amount = this.state.borrowAmounts\n    amount = window.web3.utils.toWei(amount,'ether')\n    console.log(amount)\n    this.state.DeFILInstance.methods.borrow(amount).send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n\n  //efil偿还\n  async repayeFIL(){\n    let amount = this.state.repayAmount\n    amount = window.web3.utils.toWei(amount,'ether')\n    console.log(amount)\n    this.state.DeFILInstance.methods.repayBorrow(amount).send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n\n  //mfil抵押\n  async pledegmFIL(){\n    let pledegAmount = this.state.pledegAmount\n    pledegAmount = window.web3.utils.toWei(pledegAmount,'ether')\n    console.log(pledegAmount)\n    this.state.DeFILInstance.methods.collateralize(pledegAmount).send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n\n\n  //赎回mfil\n  async redememFIL(){\n    let redemeAmount = this.state.redemeAmount\n    redemeAmount = window.web3.utils.toWei(redemeAmount,'ether')\n    console.log(redemeAmount)\n    this.state.DeFILInstance.methods.redeemCollateral(redemeAmount).send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n\n  //存eFIL\n  async saveeFIL(){\n    let Amount = this.state.saveAmount\n    Amount = window.web3.utils.toWei(Amount,'ether')\n    console.log(Amount)\n    this.state.DeFILInstance.methods.mint(Amount).send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n\n  changed = async (event,type) => {\n    let value = event.target.value\n    if (type === 'borrow'){\n      this.setState({ borrowAmounts: value })\n    }else if(type === 'repay'){\n      this.setState({ repayAmount: value })\n    }else if(type ==='pledeg'){\n      this.setState({ pledegAmount: value })\n      //console.log(\"pledeg\")\n    }else if (type==='redeme'){\n      console.log(value)\n      this.setState({ redemeAmount: value })\n    }else if (type === 'save'){\n      this.setState({ saveAmount: value })\n    }\n  }\n\n  render(){\n    let networkId \n    if (this.state.networkId === 0x4 || this.state.networkId === 0x1){\n      networkId = networkInfo[this.state.networkId]\n    }else{\n      networkId = \"未知\"\n    }\n    \n    console.log(networkId)\n    return (\n      <div>\n         <div>----------------总览-----------------</div>\n        <div> 账户：{this.state.account} </div>\n        <div> 网络：{ networkId } </div>\n        <div> 余额：{this.state.amount} ETH</div>\n        <div> eFIL存款利率：{this.state.lsupplyRateOfYear} %</div>\n        <div> eFIL贷款利率：{this.state.borrowRateOfYear} %</div>\n        <div> eFIL总流通量：{this.state.EFILtotalSupply} </div>\n        <div> eFIL使用率：{this.state.useRate} % </div>\n        <div> 我的eFIL数量：{this.state.eFIlAcount} </div>\n        <div> 已借出eFIL：{this.state.borrowAmount} </div>\n        <div> 可借eFIL：{this.state.cash} </div>\n        <div> 我的mFIL数量：{this.state.mFIlAcount} </div>\n        <div> mFIL总流通量：{this.state.MFILtotalSupply} </div>\n        <div>----------------mFIL抵押/赎回-----------------</div>\n        <button onClick={()=>{this.authorizationMFIL()}}>抵押mfil前需授权</button>\n        <div> 抵押mFIL:<input type=\"text\"  value= {this.state.pledegAmount} onChange={event => this.changed(event,'pledeg')}></input><button onClick={()=>{this.pledegmFIL()}}>确定</button></div>\n        <div> 赎回mFIL:<input type=\"text\"  value= {this.state.redemeAmount} onChange={event => this.changed(event,'redeme')}></input><button onClick={()=>{this.redememFIL()}}>确定</button> </div>\n        <div>----------------存/借/还eFil/-----------------</div>\n        {/* <div> 质押算力：{this.state.currentmFILPower} mFIL</div>\n        <div> 最大可借：{this.state.maxBorroweFIL } eFIL</div> */}\n        <button onClick={()=>{this.authorizationEFIL()}}>存入efil前需授权</button>\n        <div> 借入eFIL数量：<input type=\"text\"  value= {this.state.borrowAmounts} onChange={event => this.changed(event,'borrow')}></input> eFIL <button onClick={()=>{this.borroweFIL()}}>确定</button></div>\n        <div> 偿还eFIL数量：<input type=\"text\"  value= {this.state.repayAmount} onChange={event => this.changed(event,'repay')}></input> eFIL <button onClick={()=>{this.repayeFIL()}}>确定</button></div>\n        <div> 存eFIL数量：<input type=\"text\"  value= {this.state.saveAmount} onChange={event => this.changed(event,'save')}></input> eFIL <button onClick={()=>{this.saveeFIL()}}>确定</button></div>\n        {/* <div>--------------DFL-------------------</div>\n        <div>我的 DFL 奖励</div>\n        <div>供应比例FIL</div>\n        <div>DFL奖励未领取{}</div>\n        <div><button onClick={()=>{this.getReward()}}>获得DFLDFL奖励</button></div> */}\n        \n        \n      </div>\n    )\n  }\n    \n  \n  \n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}