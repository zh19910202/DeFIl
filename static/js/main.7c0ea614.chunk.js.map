{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["App","props","getReward","a","state","DeFILInstance","methods","claimDFL","send","from","account","on","transactionHash","console","log","geteFILReward","stakingDFLInstance","claim","amount","authorizationEFIL","EFILInstance","approve","DeFIL","address","authorizationMFIL","MFILInstance","authorizationDFL","dflInstance","stakingDFL","borroweFIL","borrowAmounts","window","web3","utils","toWei","borrow","changed","event","type","setState","target","value","transferEFIL","testCoinInstance","getEFIL","transferMFIL","getmFIL","networkId","dflAddress","DFLtotalSupply","currentmFILPower","maxBorroweFIL","borrowRateOfYear","lsupplyRateOfYear","eFIlAcount","useRate","EFILtotalSupply","mFIlAcount","MFILtotalSupply","cash","borrowAmount","pledegAmount","redemeAmount","repayAmount","saveAmount","all","stakingMFIL","collateral","saveDFLAmount","withdrawDFLAmount","DFLAmount","num","bind","this","initWeb3","loadBlockchainData","ethereum","request","method","accounts","eth","net","getId","getBalance","fromWei","Contract","DFL","abi","totalSupply","call","balanceOf","toBN","deFILInstance","getCash","rawCash","totalReserves","reserves","totalBorrows","rawBorrowAmount","totalCollaterals","parseFloat","getCollateral","borrowBalanceStored","principalAndInterest","accruedDFLStored","myDFLAmout","cToken","exchangeRateStored","exchangeRate","WhitePaperInterestRateModelInstance","WhitePaperInterestRateModel","utilizationRate","tmpBorrowRateOfYear","MFIL","EFIL","accountDeposits","myDFLStakingAmount","accruedBonusStored","BonusOfeFIL","testCoin","Web3","currentProvider","alert","chainId","repayBorrow","collateralize","redeemCollateral","Amount","mint","withdraweFILAmount","redeemUnderlying","deposit","withdraw","networkInfo","enableValue","eFILPrincipalAndInterest","href","rel","onClick","onChange","pledegmFIL","redememFIL","saveeFIL","withdraweFIL","repayeFIL","saveDFL","withdrawDFL","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7c0ea614.chunk.js","sourcesContent":["import React,{ Component } from 'react';\nimport Web3 from 'web3'\nimport './App.css';\nimport networkInfo from \"./abi/networkid.json\";\nimport DFL from \"./abi/DFL.json\";\nimport DeFIL from \"./abi/DeFIL.json\";\nimport EFIL from \"./abi/EFIL.json\";\nimport WhitePaperInterestRateModel from \"./abi/WhitePaperInterestRateModel.json\"\nimport MFIL from \"./abi/MFIL.json\"\nimport stakingDFL from \"./abi/StakingDFL.json\"\nimport testCoin from \"./abi/test.json\"\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      account:null,\n      networkId:null,\n      amount:null,\n      dflInstance:null,\n      dflAddress:null,\n      DFLtotalSupply:null,\n      currentmFILPower:0,\n      maxBorroweFIL:0,\n      borrowRateOfYear:null,\n      lsupplyRateOfYear:null,\n      eFIlAcount:null,\n      useRate:null,\n      EFILtotalSupply:null,\n      mFIlAcount:null,\n      MFILtotalSupply:null,\n      DeFILInstance:null,\n      cash:0,\n      borrowAmount:0,\n      EFILInstance:null,\n      pledegAmount:null,\n      redemeAmount:null,\n      borrowAmounts:null,\n      repayAmount:null,\n      saveAmount:null,\n      MFILInstance:null,\n      all:null,\n      stakingMFIL:null,\n      collateral:null,\n      saveDFLAmount:null,\n      withdrawDFLAmount:null,\n      stakingDFLInstance:null,\n      DFLAmount:null,\n      num: null,\n      testCoinInstance:null,\n    } \n    this.changed = this.changed.bind(this)\n  }\n  \n\n  async componentWillMount() {\n    await this.initWeb3()\n    await this.loadBlockchainData()\n   // await this.getTokenSupOfDFL()\n  \n  }\n\n  //加载基本账户信息及网络信息\n  async loadBlockchainData() {\n    const web3 = window.web3\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\n    this.setState({ account: accounts[0] })\n\n    const networkId = await web3.eth.net.getId()\n    this.setState({ networkId })\n    //console.log(accounts[0],networkId)\n\n    let amount = await web3.eth.getBalance(accounts[0])\n    amount = web3.utils.fromWei(amount, 'ether')\n    this.setState({ amount })\n\n\n  //加载WhitePaperInterestRateModel  \n\n   \n\n  //加载化DFL\n    let dflInstance = new web3.eth.Contract(DFL.abi, DFL.address)\n    this.setState({ dflInstance })\n    this.setState({ dflAddress : dflInstance.address })\n    let DFLtotalSupply = await dflInstance.methods.totalSupply().call()\n    this.setState({DFLtotalSupply})\n    let DFLAmount = await dflInstance.methods.balanceOf(accounts[0]).call()\n    DFLAmount = web3.utils.fromWei(web3.utils.toBN(DFLAmount), 'ether')\n    this.setState({DFLAmount})\n    //console.log(DFLAmount)\n\n  //加载DeFIL\n    let deFILInstance = new web3.eth.Contract(DeFIL.abi, DeFIL.address)\n    this.setState({DeFILInstance:deFILInstance})\n    //let borrowRate = await deFILInstance.methods.borrowRatePerBlock().call()\n    let rawCash = await deFILInstance.methods.getCash().call()\n    let reserves = await deFILInstance.methods.totalReserves().call()\n    let rawBorrowAmount = await deFILInstance.methods.totalBorrows().call()\n    let cash = web3.utils.fromWei(web3.utils.toBN(rawCash), 'ether')\n    let borrowAmount = web3.utils.fromWei(web3.utils.toBN(rawBorrowAmount), 'ether')\n    let stakingMFIL = await deFILInstance.methods.totalCollaterals().call()\n    stakingMFIL = web3.utils.fromWei(web3.utils.toBN(stakingMFIL), 'ether')\n    let all = parseFloat(borrowAmount)+parseFloat(cash)\n    let collateral = await deFILInstance.methods.getCollateral(accounts[0]).call()\n    collateral = web3.utils.fromWei(web3.utils.toBN(collateral), 'ether')\n    let principalAndInterest = await deFILInstance.methods.borrowBalanceStored(accounts[0]).call()\n    principalAndInterest = web3.utils.fromWei(web3.utils.toBN(principalAndInterest), 'ether')\n    let myDFLAmout = await deFILInstance.methods.accruedDFLStored(accounts[0]).call()\n    myDFLAmout = web3.utils.fromWei(web3.utils.toBN(myDFLAmout), 'ether')\n    let cToken = await deFILInstance.methods.balanceOf(accounts[0]).call()\n    cToken = web3.utils.fromWei(web3.utils.toBN(cToken), 'ether')\n    let exchangeRate = await deFILInstance.methods.exchangeRateStored().call()\n    exchangeRate = web3.utils.fromWei(web3.utils.toBN(exchangeRate), 'ether')\n    this.setState({exchangeRate})\n    this.setState({cToken})\n    this.setState({myDFLAmout})\n    this.setState({principalAndInterest})\n    this.setState({collateral})\n    this.setState({all})\n    this.setState({borrowAmount})\n    this.setState({cash})\n    this.setState({stakingMFIL})\n\n    let WhitePaperInterestRateModelInstance = new web3.eth.Contract(WhitePaperInterestRateModel.abi, WhitePaperInterestRateModel.address)\n   \n    let useRate = await WhitePaperInterestRateModelInstance.methods.utilizationRate(rawCash,rawBorrowAmount,reserves).call()\n  \n    useRate = web3.utils.fromWei(web3.utils.toBN(useRate), 'ether') * 100\n  \n    this.setState({useRate}) \n\n    //let borrowRateOfYear = web3.utils.fromWei(borrowRate, 'ether') *2102400 * 100\n    let tmpBorrowRateOfYear = 0.08 + useRate * 0.52\n    let borrowRateOfYear = tmpBorrowRateOfYear\n    console.log(borrowRateOfYear)\n    this.setState({borrowRateOfYear})\n\n    //let supplyRate = await deFILInstance.methods.supplyRatePerBlock().call()\n    //let lsupplyRateOfYear = web3.utils.fromWei(supplyRate, 'ether') *2102400 * 100\n    let lsupplyRateOfYear = tmpBorrowRateOfYear/100 * useRate * 0.5\n\n    //console.log(lsupplyRateOfYear)\n    this.setState({lsupplyRateOfYear})\n\n    //加载mFIl\n    let MFILInstance = new web3.eth.Contract(MFIL.abi, MFIL.address)\n    let mFIlAcount = await MFILInstance.methods.balanceOf(accounts[0]).call()\n    let MFILtotalSupply = await MFILInstance.methods.totalSupply().call()\n    MFILtotalSupply = web3.utils.fromWei(MFILtotalSupply,'ether')\n    mFIlAcount =  web3.utils.fromWei(mFIlAcount,'ether')\n    //console.log(MFILtotalSupply,mFIlAcount)\n    this.setState({mFIlAcount})\n    this.setState({MFILtotalSupply})\n    this.setState({MFILInstance})\n  \n\n  //加载eFIl\n    let EFILInstance = new web3.eth.Contract(EFIL.abi, EFIL.address)\n    let eFIlAcount = await EFILInstance.methods.balanceOf(accounts[0]).call()\n\n    let EFILtotalSupply = await EFILInstance.methods.totalSupply().call()\n \n    EFILtotalSupply = web3.utils.fromWei(EFILtotalSupply,'ether')\n    eFIlAcount =  web3.utils.fromWei(eFIlAcount,'ether')\n   \n    this.setState({EFILInstance})\n    this.setState({eFIlAcount})\n    this.setState({EFILtotalSupply})\n\n  \n\n  //加载stakingDFL\n    let stakingDFLInstance = new web3.eth.Contract(stakingDFL.abi, stakingDFL.address)\n    let myDFLStakingAmount = await stakingDFLInstance.methods.accountDeposits(accounts[0]).call()\n    myDFLStakingAmount = web3.utils.fromWei(web3.utils.toBN(myDFLStakingAmount), 'ether')\n    let BonusOfeFIL = await stakingDFLInstance.methods.accruedBonusStored().call()\n\n    this.setState({BonusOfeFIL})\n    this.setState({myDFLStakingAmount})\n    this.setState({stakingDFLInstance})\n\n\n  //加载获取测试币合约\n  let testCoinInstance = new web3.eth.Contract(testCoin.abi, testCoin.address)\n //console.log(testCoinInstance)\n  \n  this.setState({testCoinInstance})\n\n  }  \n\n\n   //初始化web3\n   async initWeb3() {\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum)\n    }\n    else if (window.web3) {\n      window.web3 = new Web3(window.web3.currentProvider)\n    }\n    else {\n      window.alert('Non-Ethereum browser detected. You should consider trying MetaMask!')\n    }\n\n  }\n\n  async componentDidMount(){\n    window.ethereum.on('chainChanged', (chainId) => {\n    console.log(\"chainId:\",chainId)\n\n    this.loadBlockchainData()\n    });\n     window.ethereum.on('accountsChanged', async()=>{\n    \n      await this.loadBlockchainData()\n \n    });\n  }\n\n\n  //DFL\n  async getTokenSupOfDFL(){\n    let totalSupply = await this.state.dflInstance.methods.totalSupply().call()\n    this.setState({totalSupply})\n    \n  }\n\n  //获取DFL奖励\n   getReward = async()=>{\n    \n  \n    this.state.DeFILInstance.methods.claimDFL().send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n\n  \n  }\n\n  //获取eFIL奖励\n  geteFILReward = async()=>{\n    \n  \n    let amount = await this.state.stakingDFLInstance.methods.claim([this.state.account]).send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n\n    console.log(amount)\n  \n\n  } \n  //efil授权\n\n   authorizationEFIL = async ()=>{\n      //console.log(this.state.EFILInstance.methods)\n      this.state.EFILInstance.methods.approve(DeFIL.address,'115792089237316195423570985008687907853269984665640564039457584007913129639935').send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n//mfil授权\n  authorizationMFIL = async ()=>{\n    //console.log(this.state.MFILInstance)\n    this.state.MFILInstance.methods.approve(DeFIL.address,'115792089237316195423570985008687907853269984665640564039457584007913129639935').send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n}\n\n//DFL授权\nauthorizationDFL = async ()=>{\n\n    this.state.dflInstance.methods.approve(stakingDFL.address,'115792089237316195423570985008687907853269984665640564039457584007913129639935').send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n}\n\n  //efil 借入\n   borroweFIL = async()=>{\n    let amount = this.state.borrowAmounts\n    amount = window.web3.utils.toWei(amount,'ether')\n   // console.log(amount)\n    this.state.DeFILInstance.methods.borrow(amount).send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n\n  //efil偿还\n  async repayeFIL(){\n    let amount = this.state.repayAmount\n    amount = window.web3.utils.toWei(amount,'ether')\n   // console.log(amount)\n    this.state.DeFILInstance.methods.repayBorrow(amount).send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n\n  //mfil抵押\n  async pledegmFIL(){\n    let pledegAmount = this.state.pledegAmount\n    pledegAmount = window.web3.utils.toWei(pledegAmount,'ether')\n   // console.log(pledegAmount)\n    this.state.DeFILInstance.methods.collateralize(pledegAmount).send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n\n\n  //赎回mfil\n  async redememFIL(){\n    let redemeAmount = this.state.redemeAmount\n    redemeAmount = window.web3.utils.toWei(redemeAmount,'ether')\n   // console.log(redemeAmount)\n    this.state.DeFILInstance.methods.redeemCollateral(redemeAmount).send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n\n  //存eFIL\n  async saveeFIL(){\n    let Amount = this.state.saveAmount\n   \n    Amount = window.web3.utils.toWei(Amount,'ether')\n    //console.log(Amount)\n    this.state.DeFILInstance.methods.mint(Amount).send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n\n  //取回eFIL\n  async withdraweFIL(){\n    let Amount = this.state.withdraweFILAmount\n    Amount = window.web3.utils.toWei(Amount,'ether')\n    this.state.DeFILInstance.methods.redeemUnderlying(Amount).send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n\n\n  //存DFL\n\n  async saveDFL(){\n    let Amount = this.state.saveDFLAmount\n    Amount = window.web3.utils.toWei(Amount,'ether')\n   // console.log(Amount)\n    this.state.stakingDFLInstance.methods.deposit(Amount).send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n\n  //取DFL\n  //withdrawDFLAmount\n  async withdrawDFL(){\n    let Amount = this.state.withdrawDFLAmount\n    Amount = window.web3.utils.toWei(Amount,'ether')\n   // console.log(Amount)\n    this.state.stakingDFLInstance.methods.withdraw(Amount).send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n\n  changed = async (event,type) => {\n    this.setState({\n\t\t\t//setState 里 key如果传一个变量会自动被处理为一个字符串而不是变 解决方案 给key加一个[]\n\t\t\t[type] : event.target.value\n\t\t})\n  }\n  \n  //转账eFIL\n  transferEFIL = async()=>{\n    this.state.testCoinInstance.methods.getEFIL(this.state.account).send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n\n  //转账mFIL\n  transferMFIL = async()=>{\n    this.state.testCoinInstance.methods.getmFIL(this.state.account).send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n\n  render(){\n    let networkId \n    if (this.state.networkId === 0x4 || this.state.networkId === 0x1){\n      networkId = networkInfo[this.state.networkId]\n    }else{\n      networkId = \"未知\"\n    }\n    \n    //console.log(networkId)\n    let enableValue = this.state.collateral - this.state.principalAndInterest\n    if (enableValue < 0){\n      enableValue = 0\n    }\n    //console.log(enableValue,111)\n    //console.log(this.state.collateral,this.state.principalAndInterest,11111)\n\n\n    let eFILPrincipalAndInterest = this.state.cToken * this.state.exchangeRate \n    //console.log(eFILPrincipalAndInterest,11111)\n    return (\n       \n      <div>\n        <div><h1><a href=\"https://apple-tang-b68.notion.site/DeFIL-c2357b58542d4db78548ff2bc4c9bfb9\" target=\"_blank\" rel=\"noreferrer\">测试说明</a></h1></div>\n        <div> <button onClick={()=>{this.transferEFIL()}}>eFIL领取</button></div>\n        <div> <button onClick={()=>{this.transferMFIL()}}>mFIL领取</button></div>\n        <div>----------------总览-----------------</div>\n        <div> 账户：{this.state.account} </div>\n        <div> 网络：{ networkId } </div>\n        <div> 余额：{this.state.amount} ETH</div>\n        <div> eFIL存款利率：{this.state.lsupplyRateOfYear} %</div>\n        <div> eFIL贷款利率：{this.state.borrowRateOfYear} %</div>\n        <div> eFIL池数量：{this.state.all}</div>\n        <div> 已借出eFIL数量：{this.state.borrowAmount} </div>\n        <div> 剩余eFIl数量：{this.state.cash}</div>\n        <div> eFIL使用率：{this.state.useRate} % </div>\n        <div> mFIL抵押数量：{this.state.stakingMFIL} </div>\n        <div>----------------mFIL抵押/赎回-----------------</div>\n        <button onClick={()=>{this.authorizationMFIL()}}>第一次抵押mfil前需授权</button>\n        <div> 我的mFIL数量：{this.state.mFIlAcount} </div>\n        <div> 我的mFIL抵押数量：{this.state.collateral}</div>\n        <div> 抵押mFIL:<input type=\"text\"  value= {this.state.pledegAmount} onChange={event => this.changed(event,'plepledegAmountdeg')}></input><button onClick={()=>{this.pledegmFIL()}}>确定</button></div>\n        <div> 赎回mFIL:<input type=\"text\"  value= {this.state.redemeAmount} onChange={event => this.changed(event,'redemeAmount')}></input><button onClick={()=>{this.redememFIL()}}>确定</button> </div>\n        <div>----------------存/借/还eFil/-----------------</div>\n        <button onClick={()=>{this.authorizationEFIL()}}>第一次存入efil前需授权</button>\n        <div> 我的eFIL数量：{this.state.eFIlAcount} </div>\n        <div> 当前eFIL欠款本息：{this.state.principalAndInterest}</div>\n        <div> 当前eFIL存款累计本息：{eFILPrincipalAndInterest}</div>\n        <div> 当前账户可借eFIL数量：{enableValue}</div>\n        <div> 存入eFIL数量：<input type=\"text\"  value= {this.state.saveAmount} onChange={event => this.changed(event,'saveAmount')}></input><button onClick={()=>{this.saveeFIL()}}>确定</button></div>\n        <div> 取回eFIL数量：<input type=\"text\"  value= {this.state.withdraweFILAmount} onChange={event => this.changed(event,'withdraweFILAmount')}></input><button onClick={()=>{this.withdraweFIL()}}>确定</button></div>\n        <div> 借入eFIL数量：<input type=\"text\"  value= {this.state.borrowAmounts} onChange={event => this.changed(event,'borrowAmounts')}></input><button onClick={()=>{this.borroweFIL()}}>确定</button></div>\n        <div> 偿还eFIL数量：<input type=\"text\"  value= {this.state.repayAmount} onChange={event => this.changed(event,'repayAmount')}></input><button onClick={()=>{this.repayeFIL()}}>确定</button></div>\n        <div>----------------DFLstaking-----------------</div>\n        <button onClick={()=>{this.authorizationDFL()}}>第一次质押DFL前需授权</button>\n        <div>我的DFL数量：{this.state.DFLAmount}</div>\n        <div>当前账户已质押DFL数量:{this.state.myDFLStakingAmount}</div>\n        <div>当前账户DFL收益未取回数量：{this.state.myDFLAmout}<button onClick={()=>{this.getReward()}}>获取dfl奖励</button></div>\n        <div>质押DFL的eFIL未取回奖励：{this.state.BonusOfeFIL}<button onClick={()=>{this.geteFILReward()}}>获取eFIL奖励</button></div>\n        <div>存DFL数量：<input type=\"text\"  value= {this.state.saveDFLAmount} onChange={event => this.changed(event,'saveDFLAmount')}></input><button onClick={()=>{this.saveDFL()}}>确定</button></div>\n        <div>取DFL数量：<input type=\"text\"  value= {this.state.withdrawDFLAmount} onChange={event => this.changed(event,'withdrawDFLAmount')}></input><button onClick={()=>{this.withdrawDFL()}}>确定</button></div>\n      </div>\n    )\n  }\n    \n  \n  \n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}