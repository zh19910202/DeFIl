{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["App","props","getReward","a","state","DeFILInstance","methods","claimDFL","send","from","account","on","transactionHash","console","log","geteFILReward","stakingDFLInstance","claim","amount","authorizationEFIL","EFILInstance","approve","DeFIL","address","authorizationMFIL","MFILInstance","authorizationDFL","dflInstance","stakingDFL","borroweFIL","borrowAmounts","window","web3","utils","toWei","borrow","changed","event","type","setState","target","value","transferEFIL","testCoinInstance","getEFIL","transferMFIL","networkId","dflAddress","DFLtotalSupply","currentmFILPower","maxBorroweFIL","borrowRateOfYear","lsupplyRateOfYear","eFIlAcount","useRate","EFILtotalSupply","mFIlAcount","MFILtotalSupply","cash","borrowAmount","pledegAmount","redemeAmount","repayAmount","saveAmount","all","stakingMFIL","collateral","saveDFLAmount","withdrawDFLAmount","DFLAmount","num","bind","this","initWeb3","loadBlockchainData","ethereum","request","method","accounts","eth","net","getId","getBalance","fromWei","Contract","DFL","abi","totalSupply","call","balanceOf","toBN","deFILInstance","getCash","rawCash","totalReserves","reserves","totalBorrows","rawBorrowAmount","totalCollaterals","parseFloat","getCollateral","borrowBalanceStored","principalAndInterest","accruedDFLStored","myDFLAmout","WhitePaperInterestRateModelInstance","WhitePaperInterestRateModel","utilizationRate","tmpBorrowRateOfYear","MFIL","EFIL","accountDeposits","myDFLStakingAmount","accruedBonusStored","BonusOfeFIL","testCoin","Web3","currentProvider","alert","chainId","repayBorrow","collateralize","redeemCollateral","Amount","mint","withdraweFILAmount","redeemUnderlying","deposit","withdraw","networkInfo","enableValue","href","rel","onClick","saveeFIL","onChange","pledegmFIL","redememFIL","withdraweFIL","repayeFIL","saveDFL","withdrawDFL","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a63969ba.chunk.js","sourcesContent":["import React,{ Component } from 'react';\nimport Web3 from 'web3'\nimport './App.css';\nimport networkInfo from \"./abi/networkid.json\";\nimport DFL from \"./abi/DFL.json\";\nimport DeFIL from \"./abi/DeFIL.json\";\nimport EFIL from \"./abi/EFIL.json\";\nimport WhitePaperInterestRateModel from \"./abi/WhitePaperInterestRateModel.json\"\nimport MFIL from \"./abi/MFIL.json\"\nimport stakingDFL from \"./abi/StakingDFL.json\"\nimport testCoin from \"./abi/test.json\"\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      account:null,\n      networkId:null,\n      amount:null,\n      dflInstance:null,\n      dflAddress:null,\n      DFLtotalSupply:null,\n      currentmFILPower:0,\n      maxBorroweFIL:0,\n      borrowRateOfYear:null,\n      lsupplyRateOfYear:null,\n      eFIlAcount:null,\n      useRate:null,\n      EFILtotalSupply:null,\n      mFIlAcount:null,\n      MFILtotalSupply:null,\n      DeFILInstance:null,\n      cash:0,\n      borrowAmount:0,\n      EFILInstance:null,\n      pledegAmount:null,\n      redemeAmount:null,\n      borrowAmounts:null,\n      repayAmount:null,\n      saveAmount:null,\n      MFILInstance:null,\n      all:null,\n      stakingMFIL:null,\n      collateral:null,\n      saveDFLAmount:null,\n      withdrawDFLAmount:null,\n      stakingDFLInstance:null,\n      DFLAmount:null,\n      num: null,\n      testCoinInstance:null,\n    } \n    this.changed = this.changed.bind(this)\n  }\n  \n\n  async componentWillMount() {\n    await this.initWeb3()\n    await this.loadBlockchainData()\n   // await this.getTokenSupOfDFL()\n  \n  }\n\n  //加载基本账户信息及网络信息\n  async loadBlockchainData() {\n    const web3 = window.web3\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\n    this.setState({ account: accounts[0] })\n\n    const networkId = await web3.eth.net.getId()\n    this.setState({ networkId })\n    //console.log(accounts[0],networkId)\n\n    let amount = await web3.eth.getBalance(accounts[0])\n    amount = web3.utils.fromWei(amount, 'ether')\n    this.setState({ amount })\n\n\n  //加载WhitePaperInterestRateModel  \n\n   \n\n  //加载化DFL\n    let dflInstance = new web3.eth.Contract(DFL.abi, DFL.address)\n    this.setState({ dflInstance })\n    this.setState({ dflAddress : dflInstance.address })\n    let DFLtotalSupply = await dflInstance.methods.totalSupply().call()\n    this.setState({DFLtotalSupply})\n    let DFLAmount = await dflInstance.methods.balanceOf(accounts[0]).call()\n    DFLAmount = web3.utils.fromWei(web3.utils.toBN(DFLAmount), 'ether')\n    this.setState({DFLAmount})\n    //console.log(DFLAmount)\n\n  //加载DeFIL\n    let deFILInstance = new web3.eth.Contract(DeFIL.abi, DeFIL.address)\n    this.setState({DeFILInstance:deFILInstance})\n    //let borrowRate = await deFILInstance.methods.borrowRatePerBlock().call()\n    let rawCash = await deFILInstance.methods.getCash().call()\n    let reserves = await deFILInstance.methods.totalReserves().call()\n    let rawBorrowAmount = await deFILInstance.methods.totalBorrows().call()\n    let cash = web3.utils.fromWei(web3.utils.toBN(rawCash), 'ether')\n    let borrowAmount = web3.utils.fromWei(web3.utils.toBN(rawBorrowAmount), 'ether')\n    let stakingMFIL = await deFILInstance.methods.totalCollaterals().call()\n    stakingMFIL = web3.utils.fromWei(web3.utils.toBN(stakingMFIL), 'ether')\n    let all = parseFloat(borrowAmount)+parseFloat(cash)\n    let collateral = await deFILInstance.methods.getCollateral(accounts[0]).call()\n    collateral = web3.utils.fromWei(web3.utils.toBN(collateral), 'ether')\n    let principalAndInterest = await deFILInstance.methods.borrowBalanceStored(accounts[0]).call()\n    let myDFLAmout = await deFILInstance.methods.accruedDFLStored(accounts[0]).call()\n    myDFLAmout = web3.utils.fromWei(web3.utils.toBN(myDFLAmout), 'ether')\n    this.setState({myDFLAmout})\n    this.setState({principalAndInterest})\n    this.setState({collateral})\n    this.setState({all})\n    this.setState({borrowAmount})\n    this.setState({cash})\n    this.setState({stakingMFIL})\n\n    let WhitePaperInterestRateModelInstance = new web3.eth.Contract(WhitePaperInterestRateModel.abi, WhitePaperInterestRateModel.address)\n   \n    let useRate = await WhitePaperInterestRateModelInstance.methods.utilizationRate(rawCash,rawBorrowAmount,reserves).call()\n  \n    useRate = web3.utils.fromWei(web3.utils.toBN(useRate), 'ether') * 100\n  \n    this.setState({useRate}) \n\n    //let borrowRateOfYear = web3.utils.fromWei(borrowRate, 'ether') *2102400 * 100\n    let tmpBorrowRateOfYear = 0.08 + useRate * 0.52\n    let borrowRateOfYear = tmpBorrowRateOfYear\n    console.log(borrowRateOfYear)\n    this.setState({borrowRateOfYear})\n\n    //let supplyRate = await deFILInstance.methods.supplyRatePerBlock().call()\n    //let lsupplyRateOfYear = web3.utils.fromWei(supplyRate, 'ether') *2102400 * 100\n    let lsupplyRateOfYear = tmpBorrowRateOfYear/100 * useRate * 0.5\n\n    //console.log(lsupplyRateOfYear)\n    this.setState({lsupplyRateOfYear})\n\n  //加载mFIl\n  let MFILInstance = new web3.eth.Contract(MFIL.abi, MFIL.address)\n  let mFIlAcount = await MFILInstance.methods.balanceOf(accounts[0]).call()\n  let MFILtotalSupply = await MFILInstance.methods.totalSupply().call()\n  MFILtotalSupply = web3.utils.fromWei(MFILtotalSupply,'ether')\n  mFIlAcount =  web3.utils.fromWei(mFIlAcount,'ether')\n  //console.log(MFILtotalSupply,mFIlAcount)\n  this.setState({mFIlAcount})\n  this.setState({MFILtotalSupply})\n  this.setState({MFILInstance})\n  \n\n  //加载eFIl\n    let EFILInstance = new web3.eth.Contract(EFIL.abi, EFIL.address)\n    let eFIlAcount = await EFILInstance.methods.balanceOf(accounts[0]).call()\n\n    let EFILtotalSupply = await EFILInstance.methods.totalSupply().call()\n \n    EFILtotalSupply = web3.utils.fromWei(EFILtotalSupply,'ether')\n    eFIlAcount =  web3.utils.fromWei(eFIlAcount,'ether')\n   \n    this.setState({EFILInstance})\n    this.setState({eFIlAcount})\n    this.setState({EFILtotalSupply})\n\n  \n\n  //加载stakingDFL\n    let stakingDFLInstance = new web3.eth.Contract(stakingDFL.abi, stakingDFL.address)\n    let myDFLStakingAmount = await stakingDFLInstance.methods.accountDeposits(accounts[0]).call()\n    myDFLStakingAmount = web3.utils.fromWei(web3.utils.toBN(myDFLStakingAmount), 'ether')\n    let BonusOfeFIL = await stakingDFLInstance.methods.accruedBonusStored().call()\n\n    this.setState({BonusOfeFIL})\n    this.setState({myDFLStakingAmount})\n    this.setState({stakingDFLInstance})\n\n\n  //加载获取测试币合约\n  let testCoinInstance = new web3.eth.Contract(testCoin.abi, testCoin.address)\n //console.log(testCoinInstance)\n  \n  this.setState({testCoinInstance})\n\n  }  \n\n\n   //初始化web3\n   async initWeb3() {\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum)\n    }\n    else if (window.web3) {\n      window.web3 = new Web3(window.web3.currentProvider)\n    }\n    else {\n      window.alert('Non-Ethereum browser detected. You should consider trying MetaMask!')\n    }\n\n  }\n\n  async componentDidMount(){\n    window.ethereum.on('chainChanged', (chainId) => {\n    console.log(\"chainId:\",chainId)\n\n    this.loadBlockchainData()\n    });\n     window.ethereum.on('accountsChanged', async()=>{\n    \n      await this.loadBlockchainData()\n \n    });\n  }\n\n\n  //DFL\n  async getTokenSupOfDFL(){\n    let totalSupply = await this.state.dflInstance.methods.totalSupply().call()\n    this.setState({totalSupply})\n    \n  }\n\n  //获取DFL奖励\n   getReward = async()=>{\n    \n  \n    this.state.DeFILInstance.methods.claimDFL().send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n\n  \n  }\n\n  //获取eFIL奖励\n  geteFILReward = async()=>{\n    \n  \n    let amount = await this.state.stakingDFLInstance.methods.claim([this.state.account]).send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n\n    console.log(amount)\n  \n\n  } \n  //efil授权\n\n   authorizationEFIL = async ()=>{\n      //console.log(this.state.EFILInstance.methods)\n      this.state.EFILInstance.methods.approve(DeFIL.address,'115792089237316195423570985008687907853269984665640564039457584007913129639935').send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n//mfil授权\n  authorizationMFIL = async ()=>{\n    //console.log(this.state.MFILInstance)\n    this.state.MFILInstance.methods.approve(DeFIL.address,'115792089237316195423570985008687907853269984665640564039457584007913129639935').send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n}\n\n//DFL授权\nauthorizationDFL = async ()=>{\n\n    this.state.dflInstance.methods.approve(stakingDFL.address,'115792089237316195423570985008687907853269984665640564039457584007913129639935').send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n}\n\n  //efil 借入\n   borroweFIL = async()=>{\n    let amount = this.state.borrowAmounts\n    amount = window.web3.utils.toWei(amount,'ether')\n   // console.log(amount)\n    this.state.DeFILInstance.methods.borrow(amount).send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n\n  //efil偿还\n  async repayeFIL(){\n    let amount = this.state.repayAmount\n    amount = window.web3.utils.toWei(amount,'ether')\n   // console.log(amount)\n    this.state.DeFILInstance.methods.repayBorrow(amount).send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n\n  //mfil抵押\n  async pledegmFIL(){\n    let pledegAmount = this.state.pledegAmount\n    pledegAmount = window.web3.utils.toWei(pledegAmount,'ether')\n   // console.log(pledegAmount)\n    this.state.DeFILInstance.methods.collateralize(pledegAmount).send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n\n\n  //赎回mfil\n  async redememFIL(){\n    let redemeAmount = this.state.redemeAmount\n    redemeAmount = window.web3.utils.toWei(redemeAmount,'ether')\n   // console.log(redemeAmount)\n    this.state.DeFILInstance.methods.redeemCollateral(redemeAmount).send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n\n  //存eFIL\n  async saveeFIL(){\n    let Amount = this.state.saveAmount\n   \n    Amount = window.web3.utils.toWei(Amount,'ether')\n    //console.log(Amount)\n    this.state.DeFILInstance.methods.mint(Amount).send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n\n  //取回eFIL\n  async withdraweFIL(){\n    let Amount = this.state.withdraweFILAmount\n    Amount = window.web3.utils.toWei(Amount,'ether')\n    this.state.DeFILInstance.methods.redeemUnderlying(Amount).send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n\n\n  //存DFL\n\n  async saveDFL(){\n    let Amount = this.state.saveDFLAmount\n    Amount = window.web3.utils.toWei(Amount,'ether')\n   // console.log(Amount)\n    this.state.stakingDFLInstance.methods.deposit(Amount).send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n\n  //取DFL\n  //withdrawDFLAmount\n  async withdrawDFL(){\n    let Amount = this.state.withdrawDFLAmount\n    Amount = window.web3.utils.toWei(Amount,'ether')\n   // console.log(Amount)\n    this.state.stakingDFLInstance.methods.withdraw(Amount).send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n\n  changed = async (event,type) => {\n    this.setState({\n\t\t\t//setState 里 key如果传一个变量会自动被处理为一个字符串而不是变 解决方案 给key加一个[]\n\t\t\t[type] : event.target.value\n\t\t})\n  }\n  \n  //转账eFIL\n  transferEFIL = async()=>{\n    this.state.testCoinInstance.methods.getEFIL(this.state.account).send({ from: this.state.account}).on('transactionHash',(transactionHash)=>{console.log('transactionHash:',transactionHash)})\n  }\n\n  //转账mFIL\n  transferMFIL = async()=>{\n    \n  }\n\n  render(){\n    let networkId \n    if (this.state.networkId === 0x4 || this.state.networkId === 0x1){\n      networkId = networkInfo[this.state.networkId]\n    }else{\n      networkId = \"未知\"\n    }\n    \n    //console.log(networkId)\n    let enableValue = this.state.collateral - this.state.principalAndInterest\n    //console.log(this.state.collateral,this.state.principalAndInterest,11111)\n    return (\n       \n      <div>\n        <div><h1><a href=\"https://www.notion.so/DeFIL-c2357b58542d4db78548ff2bc4c9bfb9\" target=\"_blank\" rel=\"noreferrer\">测试说明</a></h1></div>\n        <div> <button onClick={()=>{this.saveeFIL()}}>eFIL领取</button></div>\n        <div> <button onClick={()=>{this.saveeFIL()}}>mFIL领取</button></div>\n        <div>----------------总览-----------------</div>\n        <div> 账户：{this.state.account} </div>\n        <div> 网络：{ networkId } </div>\n        <div> 余额：{this.state.amount} ETH</div>\n        <div> eFIL存款利率：{this.state.lsupplyRateOfYear} %</div>\n        <div> eFIL贷款利率：{this.state.borrowRateOfYear} %</div>\n        <div> eFIL池数量：{this.state.all}</div>\n        <div> 已借出eFIL数量：{this.state.borrowAmount} </div>\n        <div> 剩余eFIl数量：{this.state.cash}</div>\n        <div> eFIL使用率：{this.state.useRate} % </div>\n        <div> mFIL抵押数量：{this.state.stakingMFIL} </div>\n        <div>----------------mFIL抵押/赎回-----------------</div>\n        <button onClick={()=>{this.authorizationMFIL()}}>第一次抵押mfil前需授权</button>\n        <div> 我的mFIL数量：{this.state.mFIlAcount} </div>\n        <div> 我的mFIL抵押数量：{this.state.collateral}</div>\n        <div> 抵押mFIL:<input type=\"text\"  value= {this.state.pledegAmount} onChange={event => this.changed(event,'plepledegAmountdeg')}></input><button onClick={()=>{this.pledegmFIL()}}>确定</button></div>\n        <div> 赎回mFIL:<input type=\"text\"  value= {this.state.redemeAmount} onChange={event => this.changed(event,'redemeAmount')}></input><button onClick={()=>{this.redememFIL()}}>确定</button> </div>\n        <div>----------------存/借/还eFil/-----------------</div>\n        <button onClick={()=>{this.authorizationEFIL()}}>第一次存入efil前需授权</button>\n        <div> 我的eFIL数量：{this.state.eFIlAcount} </div>\n        <div> 当前eFIL欠款本息：{this.state.principalAndInterest}</div>\n        <div> 当前eFIL存款本息：</div>\n        <div> 当前账户可借eFIL数量：{enableValue}</div>\n        <div> 存入eFIL数量：<input type=\"text\"  value= {this.state.saveAmount} onChange={event => this.changed(event,'saveAmount')}></input><button onClick={()=>{this.saveeFIL()}}>确定</button></div>\n        <div> 取回eFIL数量：<input type=\"text\"  value= {this.state.withdraweFILAmount} onChange={event => this.changed(event,'withdraweFILAmount')}></input><button onClick={()=>{this.withdraweFIL()}}>确定</button></div>\n        <div> 借入eFIL数量：<input type=\"text\"  value= {this.state.borrowAmounts} onChange={event => this.changed(event,'borrowAmounts')}></input><button onClick={()=>{this.borroweFIL()}}>确定</button></div>\n        <div> 偿还eFIL数量：<input type=\"text\"  value= {this.state.repayAmount} onChange={event => this.changed(event,'repayAmount')}></input><button onClick={()=>{this.repayeFIL()}}>确定</button></div>\n        <div>----------------DFLstaking-----------------</div>\n        <button onClick={()=>{this.authorizationDFL()}}>第一次质押DFL前需授权</button>\n        <div>我的DFL数量：{this.state.DFLAmount}</div>\n        <div>当前账户已质押DFL数量:{this.state.myDFLStakingAmount}</div>\n        <div>当前账户DFL收益未取回数量：{this.state.myDFLAmout}<button onClick={()=>{this.getReward()}}>获取dfl奖励</button></div>\n        <div>质押DFL的eFIL未取回奖励：{this.state.BonusOfeFIL}<button onClick={()=>{this.geteFILReward()}}>获取eFIL奖励</button></div>\n        <div>存DFL数量：<input type=\"text\"  value= {this.state.saveDFLAmount} onChange={event => this.changed(event,'saveDFLAmount')}></input><button onClick={()=>{this.saveDFL()}}>确定</button></div>\n        <div>取DFL数量：<input type=\"text\"  value= {this.state.withdrawDFLAmount} onChange={event => this.changed(event,'withdrawDFLAmount')}></input><button onClick={()=>{this.withdrawDFL()}}>确定</button></div>\n      </div>\n    )\n  }\n    \n  \n  \n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}